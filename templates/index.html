{% extends 'base.html' %}
{% block content %}
<section class="card">
	<h2>Select a subject</h2>
	<form class="subject-form" onsubmit="return navigateToQuiz(event)">
		<label for="subject">Subject</label>
		<select id="subject" name="subject" required>
			{% for s in subjects %}
			<option value="{{ s.key }}">{{ s.label }}</option>
			{% endfor %}
		</select>
		<label for="count">Number of questions</label>
		<input id="count" name="count" type="number" min="1" max="100" value="30" />
		<label for="duration">Duration (minutes)</label>
		<input id="duration" name="duration" type="number" min="1" max="180" value="20" />
		<button type="submit" class="btn primary">Start Quiz</button>
	</form>
	<p class="hint">Each quiz is timed. Your score will be shown at the end.</p>
</section>
<script>
function navigateToQuiz(e){
	e.preventDefault();
	const subject = document.getElementById('subject').value;
	const count = document.getElementById('count').value || 30;
	const duration = document.getElementById('duration').value || 20;
	const url = `/quiz/${subject}?count=${encodeURIComponent(count)}&duration=${encodeURIComponent(duration)}`;
	window.location.href = url;
	return false;
}
</script>
{% endblock %}

